<!DOCTYPE html>
<!--
ASSIGNMENT RULES
- The solution must be pushed to the repository and be available for the tutors by the end of the day
- You can ask for tutor's help
- You can google / use StackOverflow BUT we suggest you to use just the material provided
- To test the page, just open it with your default browser.

ASSIGNMENT TOPIC
You are building a task list website.
The user should be able to see the list of tasks, add new ones, delete existing ones or sort them all alphabetically.
-->
<html lang="en">

<head>
  <!-- EXERCISE 1:
    Specify the title, the charset (UTF-8) and the viewport of the page.
    -->

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Homework</title>

  <style>
    /* EXERCISE 2:  
       Create a CSS class for the task list with a different background color
       Create a CSS class for the task list item with a border, a bold text and a bigger font size
       Style every button of the page to be bigger
    */
    #myTaskList {
      background-color: lightgreen;
    }

    #myTaskList li {
      border: 1px solid;
      font-weight: bold;
      font-size: larger;
    }

    input[type="button"] {
      height: 35px;
    }
  </style>
</head>

<body>
  <h1>Welcome to your personal Task List!</h1>
  <br />

  <span>You can add any task you like by writing it in the specified field and
    then press "Add new task"</span><br /><br />

  <input type="text" id="newTask" />
  <input type="button" value="Add new Task" onclick="addNewTask()" />

  <!-- EXERCISE 3
        Create a button "Remove Last Task" to trigger the method "removeLast"
        -->
  <input type="button" value="Remove Last Task" onclick="removeLast()" />

  <!-- EXERCISE 4
        Create a button "Remove First Task" to trigger the method "removeFirst"
        -->
  <input type="button" value="Remove First Task" onclick="removeFirst()" />


  <ul id="myTaskList"></ul>

  <hr />

  <input type="color" placeholder="Color" id="colorPicker" />
  <input type="button" value="Change task background" onclick="changeTaskBackgroundColor()" />

  <hr />

  <input type="button" value="Sort" onclick="bubblesort()" />

  <script>
    let listSelector = document.getElementById('myTaskList')
    /* EXERCISE 5:
              Add a new task to the list.
              Suggestion:
              - Use document.getElementById to get the UL item and the input text
              - Use the document.createElement to create the new List Item
              - Append the LI child to the UL
          */
    function addNewTask() {
      let liNode = document.createElement('li')
      liNode.innerHTML = document.getElementById('newTask').value
      listSelector.appendChild(liNode);

      // listSelector.innerHTML += `<li>${value}<li>` //Using this creates 2 li. ??
    }

    /* EXERCISE 6:
              Create a method "removeLast" which removes the last item from the task list
          */
    function removeLast() {
      listSelector.removeChild(listSelector.lastChild);
    }

    /* EXERCISE 7:
              Create a method "removeFirst" which removes the first item from the task list
          */
    function removeFirst() {
      listSelector.removeChild(listSelector.firstChild);
    }


    /* EXERCISE 8:
             Create a method "getTasksAsArray" which returns, and prints to the console an array containing the tasks as strings
          */
    function getTasksAsArray() {
      let taskList = document.getElementsByTagName('li')
      let getArray = []
      for (let li of taskList) {
        getArray.push(li.innerText)
      }
      console.log(getArray)
    }

    /* EXERCISE 9:
             Create a method "changeTaskBackgroundColor" which takes the color from the color picker with an 
             onchange event listener ad applies it as background to every list item
          */
    function changeTaskBackgroundColor() {
      let color = document.getElementById('colorPicker').value
      listSelector.style.background = color
    }


    /* EXTRA */

    /* EXERCISE 10:
             Create a method "bubbleSort()" which sorts the task list alphabetically using the bubble sort algorithm
          
             Use your spare time to beautify your task list with CSS.

             Suggestion:
             - Break the code into many function for semplicity 
             - Reuse the functions previously created
          */
    // function bubbleSort() {
    //   let bubbleSort = (inputArr) => {
    //     let len = inputArr.length;
    //     for (let i = 0; i < len; i++) {
    //       for (let j = 0; j < len; j++) {
    //         if (inputArr[j] > inputArr[j + 1]) {
    //           let tmp = inputArr[j];
    //           inputArr[j] = inputArr[j + 1];
    //           inputArr[j + 1] = tmp;
    //         }
    //       }
    //     }
    //     return inputArr;
    //   };
    // }

  </script>
</body>

</html>